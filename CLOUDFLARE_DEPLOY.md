# ğŸš€ Cloudflare Pages å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ å‰ææ¡ä»¶

1. âœ… å·²åˆ›å»º Cloudflare è´¦å·
2. âœ… é¡¹ç›®ä»£ç å·²æ¨é€åˆ° Git ä»“åº“ï¼ˆGitHub/GitLab/Bitbucketï¼‰
3. âœ… ç¡®ä¿æ‰€æœ‰æ–‡ä»¶éƒ½å·²æäº¤

## ğŸ¯ éƒ¨ç½²æ­¥éª¤

### 1ï¸âƒ£ ç™»å½• Cloudflare

è®¿é—®ï¼šhttps://dash.cloudflare.com/

### 2ï¸âƒ£ åˆ›å»º Pages é¡¹ç›®

1. åœ¨å·¦ä¾§èœå•é€‰æ‹© **Workers & Pages**
2. ç‚¹å‡» **Create application**
3. é€‰æ‹© **Pages** æ ‡ç­¾
4. ç‚¹å‡» **Connect to Git**

### 3ï¸âƒ£ è¿æ¥ Git ä»“åº“

1. é€‰æ‹©ä½ çš„ Git æä¾›å•†ï¼ˆGitHub/GitLab/Bitbucketï¼‰
2. æˆæƒ Cloudflare è®¿é—®ä½ çš„ä»“åº“
3. é€‰æ‹© **Frosti** é¡¹ç›®ä»“åº“

### 4ï¸âƒ£ é…ç½®æ„å»ºè®¾ç½®

åœ¨ "Set up builds and deployments" é¡µé¢å¡«å†™ï¼š

```
é¡¹ç›®åç§°: frosti-blog (æˆ–ä½ å–œæ¬¢çš„åå­—)
ç”Ÿäº§åˆ†æ”¯: main (æˆ– master)
```

**æ„å»ºè®¾ç½®ï¼š**
```
Framework preset: Astro
Build command: pnpm run build
Build output directory: dist
Root directory: (ç•™ç©º)
```

**ç¯å¢ƒå˜é‡ï¼š** (é€šå¸¸ä¸éœ€è¦)
```
æ— éœ€æ·»åŠ 
```

### 5ï¸âƒ£ éƒ¨ç½²

1. ç‚¹å‡» **Save and Deploy**
2. ç­‰å¾…æ„å»ºå®Œæˆï¼ˆçº¦ 2-5 åˆ†é’Ÿï¼‰
3. æ„å»ºæˆåŠŸåä¼šæ˜¾ç¤ºä½ çš„ç½‘ç«™ URL

## ğŸŒ è®¿é—®ä½ çš„ç½‘ç«™

éƒ¨ç½²æˆåŠŸåï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„ URLï¼š
```
https://frosti-blog.pages.dev
```

## ğŸ”§ åç»­é…ç½®

### è‡ªå®šä¹‰åŸŸå

1. åœ¨é¡¹ç›®é¡µé¢ç‚¹å‡» **Custom domains**
2. ç‚¹å‡» **Set up a custom domain**
3. è¾“å…¥ä½ çš„åŸŸåï¼ˆå¦‚ï¼šblog.example.comï¼‰
4. æŒ‰ç…§æç¤ºé…ç½® DNS è®°å½•

### è‡ªåŠ¨éƒ¨ç½²

âœ… æ¯æ¬¡æ¨é€åˆ° `main` åˆ†æ”¯ä¼šè‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
âœ… æ¨é€åˆ°å…¶ä»–åˆ†æ”¯ä¼šåˆ›å»ºé¢„è§ˆéƒ¨ç½²
âœ… Pull Request ä¼šè‡ªåŠ¨åˆ›å»ºé¢„è§ˆé“¾æ¥

## ğŸ“Š æ„å»ºé…ç½®è¯¦æƒ…

### Node.js ç‰ˆæœ¬
- ä½¿ç”¨ Node.js 20ï¼ˆå·²åœ¨ `.node-version` æŒ‡å®šï¼‰

### åŒ…ç®¡ç†å™¨
- è‡ªåŠ¨æ£€æµ‹ä½¿ç”¨ `pnpm`

### æ„å»ºè¿‡ç¨‹
```bash
pnpm install          # å®‰è£…ä¾èµ–
pnpm run build        # æ„å»ºé¡¹ç›®
  â”œâ”€ astro check      # ç±»å‹æ£€æŸ¥
  â”œâ”€ astro build      # æ„å»ºé™æ€æ–‡ä»¶
  â””â”€ pagefind         # ç”Ÿæˆæœç´¢ç´¢å¼•
```

### è¾“å‡ºæ–‡ä»¶
```
dist/
â”œâ”€â”€ index.html
â”œâ”€â”€ blog/
â”œâ”€â”€ about/
â”œâ”€â”€ _astro/
â”œâ”€â”€ pagefind/        # æœç´¢ç´¢å¼•
â””â”€â”€ ...
```

## âš¡ æ€§èƒ½ä¼˜åŠ¿

ä½¿ç”¨ Cloudflare Pages éƒ¨ç½²åï¼Œä½ çš„ç½‘ç«™å°†äº«å—ï¼š

- ğŸŒ **å…¨çƒ CDN**ï¼š200+ æ•°æ®ä¸­å¿ƒ
- ğŸ”’ **å…è´¹ HTTPS**ï¼šè‡ªåŠ¨é…ç½® SSL è¯ä¹¦
- ğŸš€ **æ— é™å¸¦å®½**ï¼šä¸é™æµé‡
- ğŸ›¡ï¸ **DDoS é˜²æŠ¤**ï¼šä¼ä¸šçº§å®‰å…¨
- âš¡ **è¾¹ç¼˜ç¼“å­˜**ï¼šè¶…å¿«åŠ è½½é€Ÿåº¦
- ğŸ“ˆ **Web Analytics**ï¼šå…è´¹è®¿é—®ç»Ÿè®¡

## ğŸ” æ•…éšœæ’æŸ¥

### æ„å»ºå¤±è´¥ï¼Ÿ

**æ£€æŸ¥æ„å»ºæ—¥å¿—**
1. è¿›å…¥é¡¹ç›®é¡µé¢
2. ç‚¹å‡»å¤±è´¥çš„éƒ¨ç½²
3. æŸ¥çœ‹ "Build log"

**å¸¸è§é—®é¢˜ï¼š**

âŒ **Node.js ç‰ˆæœ¬é”™è¯¯**
```
è§£å†³ï¼šç¡®ä¿ .node-version æ–‡ä»¶å­˜åœ¨ä¸”å†…å®¹ä¸º "20"
```

âŒ **ä¾èµ–å®‰è£…å¤±è´¥**
```
è§£å†³ï¼šæ£€æŸ¥ package.json æ˜¯å¦å®Œæ•´ï¼Œå°è¯•æœ¬åœ°è¿è¡Œ pnpm install
```

âŒ **æ„å»ºå‘½ä»¤é”™è¯¯**
```
è§£å†³ï¼šç¡®ä¿æ„å»ºå‘½ä»¤ä¸º "pnpm run build"
```

### é¡µé¢æ˜¾ç¤º 404ï¼Ÿ

1. æ£€æŸ¥è¾“å‡ºç›®å½•æ˜¯å¦ä¸º `dist`
2. ç¡®ä¿ `dist/index.html` å­˜åœ¨
3. æ£€æŸ¥ Astro é…ç½®ä¸­çš„è·¯ç”±è®¾ç½®

### æœç´¢åŠŸèƒ½ä¸å·¥ä½œï¼Ÿ

1. ç¡®ä¿æ„å»ºå‘½ä»¤åŒ…å« `pagefind --site dist`
2. æ£€æŸ¥ `dist/pagefind` ç›®å½•æ˜¯å¦ç”Ÿæˆ
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

## ğŸ“ æœ¬åœ°æµ‹è¯•

éƒ¨ç½²å‰å»ºè®®æœ¬åœ°æµ‹è¯•ï¼š

```bash
# å®‰è£…ä¾èµ–
pnpm install

# æ„å»ºé¡¹ç›®
pnpm run build

# é¢„è§ˆæ„å»ºç»“æœ
pnpm run preview
```

è®¿é—® http://localhost:4321 æŸ¥çœ‹æ•ˆæœ

## ğŸ”„ æ›´æ–°ç½‘ç«™

åªéœ€æ¨é€ä»£ç åˆ° Git ä»“åº“ï¼š

```bash
git add .
git commit -m "æ›´æ–°å†…å®¹"
git push
```

Cloudflare Pages ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é‡æ–°éƒ¨ç½²ï¼

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Cloudflare Pages å®˜æ–¹æ–‡æ¡£](https://developers.cloudflare.com/pages/)
- [Astro éƒ¨ç½²æŒ‡å—](https://docs.astro.build/en/guides/deploy/cloudflare/)
- [Cloudflare Dashboard](https://dash.cloudflare.com/)

## ğŸ’¡ æç¤º

- é¦–æ¬¡éƒ¨ç½²å¯èƒ½éœ€è¦ 3-5 åˆ†é’Ÿ
- åç»­éƒ¨ç½²é€šå¸¸åªéœ€ 1-2 åˆ†é’Ÿ
- é¢„è§ˆéƒ¨ç½²ä¼šåœ¨ PR ä¸­è‡ªåŠ¨æ·»åŠ è¯„è®º
- å¯ä»¥å›æ»šåˆ°ä»»ä½•å†å²ç‰ˆæœ¬

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸ‰**

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ Cloudflare Pages çš„æ„å»ºæ—¥å¿—æˆ–è®¿é—® Cloudflare ç¤¾åŒºå¯»æ±‚å¸®åŠ©ã€‚
